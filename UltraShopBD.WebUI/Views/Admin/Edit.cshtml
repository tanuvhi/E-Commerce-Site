@model UltraShopBd.Domain.Entities.Product

@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/Admin_LayoutPage.cshtml";
    var ImageCount = 200;
}

<h2>Edit</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    
    <div class="form-horizontal" role="form">
        <h4>Product</h4>
        <hr />
        @Html.ValidationSummary(true)
        @Html.HiddenFor(model => model.ProductId)

        <div class="form-group">
            @Html.LabelFor(model => model.Name, new { @class = "col-md-2 control-label" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Name, new { attributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Name)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.CategoryId, new { @class = "col-md-2 control-label" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.CategoryId, new { htmlAttributes = new { @class = "form-control" }, })
                @Html.ValidationMessageFor(model => model.CategoryId)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Description, new { @class = "col-md-2 control-label" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Description, new { htmlAttributes = new { @class = "form-control" }, })
                @Html.ValidationMessageFor(model => model.Description)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.SubCategoryId, new { @class = "col-md-2 control-label" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.SubCategoryId, new { htmlAttributes = new { @class = "form-control" }, })
                @Html.ValidationMessageFor(model => model.SubCategoryId)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Price, new { @class = "col-md-2 control-label" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Price, new { htmlAttributes = new { @class = "form-control" }, })
                @Html.ValidationMessageFor(model => model.Price)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.SubSubCategoryId, new { @class = "col-md-2 control-label" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.SubSubCategoryId, new { htmlAttributes = new { @class = "form-control" }, })
                @Html.ValidationMessageFor(model => model.SubSubCategoryId)
            </div>
        </div>
        <div class="form-group">
         @Html.Label("Image" ,new { @class = "col-md-2 control-label" })
            
            @foreach (var img in @ViewBag.files)
            {

                ImageCount++;
                if (ImageCount <= @ViewBag.FileCount+200)
                {
                    <div class="col-xs-3 col-md-3 col-sm-3">
                        
                            <img src='@Url.Content("~/Content/Image"+"/"+"p"+@Model.ProductId+"/"+@img)' class="img-responsive" id="@ImageCount" alt="flyer1" />
                       

                      
                        </div>
                
                }
            }


            
        </div> 

        <div class="form-group">
            @Html.LabelFor(model => model.ImageUrl, new { @class = "col-md-2 control-label" })
            <div class="row">
                <div class="col-xs-3 col-md-3 col-sm-3">
                    <div id="show">
                        <img src='@Url.Content(Model.ImageUrl)' class="img-responsive" />
                    </div>

                </div>
                <div class="col-xs-3 col-md-3 col-sm-3">
                    @Html.HiddenFor(model => model.ImageUrl, new { htmlAttributes = new { @class = "form-control", @id = "ImageUrl" }, })
                    @Html.ValidationMessageFor(model => model.ImageUrl)
                    </div>
                
                </div>
        </div>
        
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Save" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>



@section Scripts {
   


    <script language="javascript" type="text/javascript">

        $(function () {
            $("#201, #202 ,#203 ,#204,#208,#207,#206,#205").click(function (e) {
                
                var newImg = document.getElementById(this.id).src;
               
                $('#ImageUrl').val(newImg);
                var newImg1 = '<img src='
                               + document.getElementById(this.id).src + ' class="img-responsive" ></img>';
                $('#show')
                     .html($(newImg1)

                     .animate({}, 1500));
            });
        });
    
        
    </script>

}